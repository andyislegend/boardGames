<div ng-controller = "allUsersGameCtrl" class ="container-fluid">
		
	<div class = "container-fluid">
		<table class="table table-reflow" id="gameDetailTable">
			<tbody>
				<tr>
					<th scope="row">
						<h1 id = "titleHeader" class="text-primary">{{games.name}}</h1>
					</th>
					<td>
						<a id = "EditButton" href = "#gameEdit/{{games.id}}" ng-show="isYourGame">
							<button class="btn btn-default navbar-btn" >
								<span class = "glyphicon glyphicon-edit"></span>
							</button>
						</a>
					</td>
				</tr>
				<tr>
					<th scope="row">Year of production</th>
					<td>{{games.yearOfProduction}}</td>
				</tr>
				<tr>
					<th scope="row">Edition</th>
					<td>{{games.edition}}</td>
				</tr>	
				<tr>
					<th scope="row">Description</th>
					<td>{{games.description}}</td>
				</tr>
				<tr>
					<th scope="row">Rules</th>
					<td>{{games.rules}}</td>
				</tr>	
				<tr>
					<th scope="row">Max players</th>
					<td>{{games.maxPlayers}}</td>
				</tr>
				<tr>
					<th scope="row">Min players</th>
					<td>{{games.minPlayers}}</td>
				</tr>	
				<tr>
					<th scope="row">Availability</th>
					<td>{{games.status}}</td>
				</tr>	
			</tbody>
		</table>
		<br/>
		<div class="container-fluid" ng-show="isYourGame">
			<div class="centeredObjects">
				<h3 class="text-primary">Make game available</h3>
			</div>
			<form name="availabilityForm">
				<p class="inlineDisplay">Enter period of exchange:</p>
				<input type="number" name="returnDate" max="360" min="1"
				class="form-control inlineDisplay" ng-model="returnDate" required/>
				<button class="btn btn-primary inlineDisplay" ng-click="makeGameUserAvailable(games.id)" 
				ng-disabled="availabilityForm.returnDate.$invalid">Open for sharing</button>
			</form>
		</div>
	</div>	
	
	<div class="container-fluid centeredObjects" ng-show="isYourGamePrivate">
		<button class="btn btn-primary" ng-click="keepGameUserPrivate(games.id)">Keep it for me</button>
	</div>
	
	<div class="container-fluid" ng-show="isntYourGame">
		<button class="btn btn-primary" 
				ng-click="displayRequestBlockClick(games.id)" data-toggle="modal" 
				data-target="#applyForGameModal">Let's make a deal!</button>
		<div id="applyForGameModal" class="modal fade" role="dialog">
	  		<div class="modal-dialog">
	  		    <div class="modal-content">
	  		    	<div class="modal-header">
       	 				<button type="button" class="close" data-dismiss="modal">&times;</button>
        				<h4 class="modal-title">Request</h4>
      				</div>
					<div class="modal-body">
						<form name="selectRequiredForm">
							<p class="boldText">Days: {{howManyDays}}</p>
				  			<br/>
				  			<label class="inlineDisplay">Message for owner:  </label>
				  			<textarea class="form-control inlineDisplay" rows="2" id="message" ng-model="messageToOwner"></textarea>
				  			<br/><br/>
				  			<p class="boldText inlineDisplay">Select what you want to propose:  </p>
			      			<select class="form-control inlineDisplay" ng-model="myGamesModel" name="gamesSelect"
			      					ng-options="option.name for option in myGames" required></select>
			      			<button class="btn btn-primary inlineDisplay" ng-click="addToProposes()" 
			      					ng-disabled="selectRequiredForm.gamesSelect.$invalid">
			      					Add proposition</button>  
			      			<br/>
			      			<ul class="list-group listCenterd" ng-model="propositionsList">
			    				<li class="list-group-item" ng-repeat="game in gamesToPropose">{{game.name}}, {{game.edition}}</li>
			  				</ul>
			  				<br/>
			  				<div class="centeredObjects">
			  					<button class="btn btn-primary" 
			  							ng-click="askOwnerToShare(games.id, messageToOwner, gamesToPropose)"
			  							ng-disabled="selectRequiredForm.gamesSelect.$invalid">Ask owner</button>
			  				</div>
			  			</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="container-fluid" ng-show="isThereConfiramtion">
		<a class="text-primary inlineDisplay" href="#edit/{{applierUsername}}">{{applierUsername}}</a>
		<p class="inlineDisplay"> asks you to share this game</p>
		<pre>{{messageFromApplier}}</pre>
		<a class="text-primary inlineDisplay" href="#edit/{{applierUsername}}">{{applierUsername}}</a>
		<p class="inlineDisplay"> offers: </p>
		<ul class="list-group" ng-model="propositionsFromUser">
    		<li class="list-group-item" ng-repeat="game in propositions">
    			{{game.name}} - {{game.edition}}, {{game.yearOfProduction}}</li>
  		</ul>
  		<div class="centeredObjects">
			<button class="btn btn-primary " ng-click="acceptGameConfirmation(games.id)">Accept</button>
			<button class="btn btn-primary" ng-click="declineGameConfirmation(games.id)">Decline</button>
	  	</div>
	</div>
	
	<div class="container-fluid" ng-show="canGiveBack">
		<p class="boldText">Days remains: {{howManyDaysRemains}}</p>
		<button class="btn btn-primary" ng-click="giveBackGame(games.id)">Give back to owner</button>
	</div>

</div>