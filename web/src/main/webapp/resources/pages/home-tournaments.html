<div ng-controller="showAllTournamentsCtrl">
   <div ng-controller="allUsersGameCtrl">
      <h1 style="text-align: center"> Tournaments </h1>
      <div class="column-5">
         <div>
         <a href="" data-toggle="modal" data-target="#myModalTournament">
                        ADD NEW TOURNAMENT</a>
                        <div id="myModalTournament" class="modal fade" role="dialog" ng-controller="CtreateNewTournamentCtrl">
                           <div class="modal-dialog">
                              <!-- Modal content-->
                              <div class="modal-content">
                                 <div class="modal-header">
                                    <h2>Create the best tournament ever</h2>
                                 </div>
                                 <div class="modal-body">
                                 
                       				<form class="form-horizontal" role="form" name = "tournamentCreate" novalidate>
                                    
                                       <div class="form-group" ng-class="{ 'has-error' : tournamentCreate.gameForTournament.$invalid && !tournamentCreate.gameForTournament.$pristine }">
                                          <label>Select game for your tournament</label>
                                          <span style="color: red">*</span>								
                                          <select required="required" name = "gameForTournament" class="form-control" data-ng-model="selectedGame" required>
                                             <option  ng-repeat="game in allGame" value="{{game.id}}">{{game.name}}</option>
                                          </select>
                                          <p ng-show="tournamentCreate.gameForTournament.$invalid && !tournamentCreate.gameForTournament" class="help-block">Game for tournament is required.</p>
                                       </div>
                                       
                                       <div class="input-group" ng-class="{ 'has-error' : tournamentCreate.name.$invalid && !tournamentCreate.name.$pristine }">
                                          <span style="width: 100px;" class="input-group-addon"
											id="basic-addon2">	
                                          <span>Name of your tournament</span>
                                          </span>
                                          <span style="color: red">*</span>
                                          <input name = "name" class="form-control"
								aria-describedby="basic-addon1" style="width: 400px;"
                                           id="inputdefault" data-ng-model="tournamentName" required>
                                          <p ng-show="tournamentCreate.name.$invalid && !tournamentCreate.name.$pristine" class="help-block">Tournament name is required.</p>
                                       </div>
                                       
                                       <div class="form-group" ng-class="{ 'has-error' : tournamentCreate.countOfParticipants.$invalid && !tournamentCreate.countOfParticipants.$pristine }">
                                          
                                          <label>Count of players</label>
                                          <span style="color: red">*</span>	
                                          <input name = "countOfParticipants" type="number" min = "0" class="form-control" id="inputdefault"
                                           data-ng-model="countOfParticipants" required>
                                          <p ng-show="tournamentCreate.countOfParticipants.$invalid && !tournamentCreate.countOfParticipants.$pristine" class="help-block">Count of participants is required.</p>
                                       </div>
                                       
                                       <div class="form-group" ng-class="{ 'has-error' : tournamentCreate.dateOfTournament.$invalid && !tournamentCreate.dateOfTournament.$pristine }">
                                          
                                          <label>Choose date of your tournament</label>
                                          <span style="color: red">*</span>	
                                          <input name = "dateOfTournament" class="form-control" id="inputdefault"
                                           data-ng-model="date" type="date" required>
                                          <p ng-show="tournamentCreate.dateOfTournament.$invalid && !tournamentCreate.dateOfTournament.$pristine" class="help-block">Date of tournament is required.</p>
                                       </div>
                                       
                                       <div class="form-group" ng-class="{ 'has-error' : tournamentCreate.Country.$invalid && !tournamentCreate.Country.$pristine }">       	
                                         <label>Enter Country</label>
                                         <span style="color: red">*</span>
                                          <input name = "Country" class="form-control" id="inputdefault" data-ng-model="countryTournament" required>	
                                          <p ng-show="tournamentCreate.Country.$invalid && !tournamentCreate.Country.$pristine" class="help-block">Country of tournament is required.</p>
                                       </div>
                                      
                                       <div class="form-group" ng-class="{ 'has-error' : tournamentCreate.city.$invalid && !tournamentCreate.city.$pristine }">                                                                	
                                          <label>Enter City</label>
                                          <span style="color: red">*</span>
                                          <input name = "city" class="form-control" id="inputdefault" data-ng-model="cityTournament" required>
                                          <p ng-show="tournamentCreate.city.$invalid && !tournamentCreate.city.$pristine" class="help-block">Country of tournament is required.</p>
                                      </div>
                                  	 <b><p><span style="color: red">*</span> - required fields</p></b>	
                                      <div>
                                          <button type="button" class="btn btn-default" ng-click="createTournament()" ng-disabled="tournamentCreate.$invalid" value="Close" data-dismiss="modal"> Create</button>
                                          <button type="button" class="btn btn-default" ng-click="modalClose()"
                                             data-dismiss="modal">Close</button>
                                       </div>
                                    </form>                                                
                                 </div>
                                 <div class="modal-footer">
                                 </div>
                              </div>
                           </div>
                        </div>
        <ul class="nav nav-tabs nav-justified">
          <li class="active">
          	<a data-toggle="tab" ng-click = "getAllTournaments()"  data-target="#Alltournaments">All tournaments</a>         
          </li>
          <li>
          	<a data-toggle="tab" ng-click = "getAllTournamentsSuchUserCreated()" data-target="#Mycreated"> My created </a>
          </li>
        </ul> 
          <div class="tab-content">      
            <div id = "Alltournaments" class="tab-pane fade in active">
            <table ng-table="allTournaments" show-filter="true" class="table table-striped">
                  <tr ng-repeat="tournament in tournamentDisplay">
                     <td data-title = "'Tournament name'" sortable="'tournamentName'" filter="{ 'tournamentName': 'text' }">
                     	<a href = "#tournament/{{tournament.tournamentId}}"  ng-click = "getTournamentDetails(x.tournamentId)">{{ tournament.tournamentName }}</a>
                     </td>
                     <td data-title = "'User creator'" sortable="'userCreatorName'" filter="{ 'userCreatorName': 'text' }">{{ tournament.userCreatorName }}</td>         
                  </tr>
             </table>
             </div>
             
             <div id = "Mycreated" class="tab-pane fade">
            <table ng-table="allTournaments" show-filter="true" class="table table-striped">
                  <tr ng-repeat="tournament in tournamentDisplay">
                     <td data-title = "'Tournament name'" sortable="'tournamentName'" filter="{ 'tournamentName': 'text' }">
                     	<a href = "#tournament/{{tournament.tournamentId}}"  ng-click = "getTournamentDetails(x.tournamentId)">{{ tournament.tournamentName }}</a>
                     </td>
                     <td data-title = "'User creator'" sortable="'userCreatorName'" filter="{ 'userCreatorName': 'text' }">{{ tournament.userCreatorName }}</td>         
                  </tr>
             </table>
             </div>
           </div>
         </div>
      </div>
   </div>
</div>
